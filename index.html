<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <title>Page Responsive avec Barre de Navigation</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="style/style-desktop.css">
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <script>
        document.addEventListener("DOMContentLoaded", function() {
            if (typeof Chart === 'undefined') {
                console.error("Chart.js n'a pas été chargé correctement. Assurez-vous que l'URL est correcte ou essayez une autre source.");
            }
        });
    </script>
</head>
<body>
    <!-- Barre de navigation -->
    <nav class="sidebar" id="sidebar">
        <div class="logo">
            <img src="images/logo.png" alt="Logo">
        </div>
        <ul>
            <li><a href="#"><img src="images/icon-accueil.png" alt="Accueil"></a></li>
        </ul>
        <div class="connect-item">
            <a href="#" id="connect-esp32-button"><img src="images/icon-connect.png" alt="Connect ESP32"></a>
        </div>
    </nav>

    <!-- Contenu principal -->
    <div class="main-content" id="main-content">
        <header>
            <div class="menu-toggle" id="menu-toggle">☰</div>
            <div class="header-content">
                <h1 class="main-title">TRUST STAND</h1>
                <div class="buttons-container">
                    <button class="start-button">Start new test
                        <img src="images/arrow-icon.png" alt="Flèche" class="arrow-icon">
                    </button>
                    <button class="download-button">
                        <img src="images/download-icon.png" alt="Télécharger" class="download-icon">
                    </button>
                    <button class="emergency-button">
                        <img src="images/emergency-icon.png" alt="Arrêt d'urgence" class="emergency-icon">
                    </button>
                </div>
            </div>
        </header>

        <hr class="divider">

        <!-- Conteneurs pour les graphes -->
        <div class="graphs-container">
            <div class="graph" id="graph1-container">
                <canvas id="graph1" style="max-width: 100%; height: 400px;"></canvas>
            </div>
            <div class="graph" id="graph2-container">
                <canvas id="graph2" style="max-width: 100%; height: 400px;"></canvas>
            </div>
        </div>

        <!-- Slider de contrôle du signal PWM -->
        <div class="slider-container">
            <label for="pwm-slider">Contrôle du signal PWM (0% à 100%) :</label>
            <input type="range" id="pwm-slider" min="0" max="100" value="0">
            <span id="pwm-value">0%</span>
        </div>
    </div>

    <!-- Inclusion des scripts JavaScript -->
    <script src="script/script-animations.js"></script>
    <script src="script/script-esp32.js"></script>
    <script>
        document.addEventListener("DOMContentLoaded", function() {
            // Initialisation des graphes après le chargement du DOM
            if (typeof initGraphs === 'function') {
                initGraphs();
            }
        });
    </script>
</body>
</html>